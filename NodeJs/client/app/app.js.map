{"version":3,"sources":["client/app/app.ts"],"names":[],"mappings":"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","file":"app.js","sourcesContent":["//import jQuery = require(\"jquery\");\r\n//import agGrid = require(\"ag-grid\");\r\n\r\n\r\nfunction alertCellRender(params)\r\n{\r\n    return '<div style=\"background:'+ ((params.data.data.S[ params.alert]) ? '#cf0404' : '#91e842') + ';height:9px;width:9px;display:inline-block;vertical-align:middle\"></div> ' + params.value;\r\n}\r\nvar columnDefs = [\r\n\r\n    {headerName: \"Date\", field: \"TS\", cellRenderer: function (params) {   \r\n           return new Date(params.value * 1000).toLocaleTimeString();\r\n    }},\r\n    {headerName: \"Name\", field: \"name\", cellRenderer: 'group'}, \r\n    {headerName: \"Type\", field: \"type\", \r\n        cellRenderer: function (params) {   \r\n            switch(params.value)\r\n            {\r\n                case 1:\r\n                    return \"Home\";\r\n                case 2:\r\n                    return \"Pond\";\r\n                case 3:\r\n                    return \"Reef\";\r\n            }\r\n    }}, \r\n    {headerName: \"In Water\", field: \"data.S.W\", \r\n        cellRenderer: function (params) {   \r\n            return ((params.value) ? '<div style=\"background:lightblue;height:9px;width:9px;\"></div>':'<div style=\"border:1px solid black;height:9px;width:9px;\"></div>');\r\n    }}, \r\n    {headerName: \"T\", field: \"data.T\",  cellRenderer: alertCellRender,\r\n         cellRendererParams : {\r\n            alert: 'T'\r\n    } }, \r\n    {headerName: \"pH\", field: \"data.P\",  cellRenderer: alertCellRender,\r\n         cellRendererParams : {\r\n            alert: 'P'\r\n    } },  \r\n    {headerName: \"NH3\", field: \"data.N\",  cellRenderer: alertCellRender,\r\n         cellRendererParams : {\r\n            alert: 'N'\r\n    } },  \r\n    {headerName: \"Par\", field: \"data.A\"}, \r\n    {headerName: \"Lux\", field: \"data.L\"}, \r\n    {headerName: \"Kelvin\", field: \"data.K\"}, \r\n]; \r\n  \r\n(function ( $ ) {\r\n\r\n\r\n    let webSocket;\r\n    let grid;\r\n    let gridOptions = { \r\n        columnDefs: columnDefs, \r\n        rowData: [] \r\n    };\r\n    function handleOpenWs()\r\n    {\r\n        $(\"#Vc\").removeClass(\"s1 s2 s3\").addClass(\"s1\"); \r\n    }\r\n    function handleCloseWs()\r\n    {\r\n        $(\"#Vc\").removeClass(\"s1 s2 s3\").addClass(\"s3\");\r\n    }\r\n    function handleMessage(e)\r\n    { \r\n        gridOptions.api.setRowData(JSON.parse(e.data));\r\n        gridOptions.api.sizeColumnsToFit(); \r\n    } \r\n    $(document).ready(function () {\r\n\r\n        this.webSocket = new WebSocket(\"ws://\" + window.location.hostname + \":8001\"); \r\n        this.webSocket.onmessage = handleMessage;\r\n        this.webSocket.onopen = handleOpenWs;\r\n        this.webSocket.onclose = handleCloseWs;\r\n\r\n        grid = new agGrid.Grid($(\"#Vb\")[0], gridOptions);\r\n    });\r\n\r\n    return this;\r\n}( jQuery ));\r\n "],"sourceRoot":"c:\\xseneyex\\LDE\\NodeJs"}